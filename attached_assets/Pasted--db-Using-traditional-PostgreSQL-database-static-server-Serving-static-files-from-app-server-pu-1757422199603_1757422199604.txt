[db] Using traditional PostgreSQL database
[static-server] Serving static files from: /app/server/public
[static-server] Static server configured successfully
3:54:52 AM [express] serving on port 5000
[static-server] Serving index.html for: /seja-profissional
3:54:55 AM [express] GET /api/install/status 200 in 27ms :: {"installed":true,"needsInstallation":fa…
3:54:55 AM [express] GET /api/subscription-plans 200 in 17ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb…
[static-server] Serving index.html for: /favicon.ico
Plan found: {
  id: '6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10',
  name: 'Plano Básico',
  monthlyPrice: '29.90',
  monthlyPriceType: 'string',
  pagarmeProductId: 'plan_94qYE4wtxt4jeZ25'
}
Price validation: {
  planName: 'Plano Básico',
  originalPrice: '29.90',
  priceInReais: 29.9,
  priceInCentavos: 2990,
  expectedForProfissional: 'R$ 59,90 = 5990 centavos'
}
Pagar.me subscription response: {
  "id": "sub_Jj5VAQNtYtnW46Nw",
  "code": "SUB_75157284187_1757390111644",
  "start_at": "2025-09-09T00:00:00Z",
  "interval": "month",
  "interval_count": 1,
  "billing_type": "prepaid",
  "current_cycle": {
    "id": "cycle_Y0yq7xBsZsalNXKx",
    "start_at": "2025-09-09T00:00:00Z",
    "end_at": "2025-10-08T23:59:59Z",
    "billing_at": "2025-09-09T00:00:00Z",
    "status": "billed",
    "cycle": 1
  },
  "next_billing_at": "2025-10-09T00:00:00Z",
  "payment_method": "boleto",
  "currency": "BRL",
  "statement_descriptor": "MONTE EVEREST",
  "installments": 1,
  "status": "active",
  "created_at": "2025-09-09T03:55:12Z",
  "updated_at": "2025-09-09T03:55:12Z",
  "customer": {
    "id": "cus_3W91ybXi1iRYkaQK",
    "name": "Rafael Miguel de Oliveira",
    "email": "rafaeladapta02@gmail.com",
    "code": "75157284187",
    "document": "75157284187",
    "type": "individual",
    "delinquent": false,
    "address": {
      "id": "addr_VAG040WUQU3zxQ5d",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro",
      "street": "Rua Principal",
      "number": "123",
      "complement": "",
      "zip_code": "74000000",
      "neighborhood": "Centro",
      "city": "Goiânia",
      "state": "GO",
      "country": "BR",
      "status": "active",
      "created_at": "2025-09-09T02:48:34Z",
      "updated_at": "2025-09-09T02:48:34Z"
    },
    "created_at": "2025-09-09T02:48:34Z",
    "updated_at": "2025-09-09T02:48:34Z",
    "phones": {},
    "metadata": {
      "created_by": "monte_everest_system"
    }
  },
  "plan": {
    "id": "plan_94qYE4wtxt4jeZ25",
    "name": "Plano Básico",
    "description": "Plano básico para profissionais",
    "url": "plans/plan_94qYE4wtxt4jeZ25/everest-servicos-ltda-conta-ativa-test/plano-basico",
    "statement_descriptor": "MONTE EVEREST",
    "interval": "month",
    "interval_count": 1,
    "billing_type": "prepaid",
    "payment_methods": [
      "credit_card",
      "boleto"
    ],
    "installments": [
      1,
      2,
      3,
      6,
      12
    ],
    "status": "active",
    "currency": "BRL",
    "created_at": "2025-09-09T02:30:29Z",
    "updated_at": "2025-09-09T02:30:29Z",
    "metadata": {
      "plan_id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "created_by": "monte_everest_system"
    }
  },
  "items": [
    {
      "id": "si_GzMNZqYHgH0ZeB09",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T03:55:12Z",
      "updated_at": "2025-09-09T03:55:12Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    },
    {
      "id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T03:55:12Z",
      "updated_at": "2025-09-09T03:55:12Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    }
  ],
  "boleto": {},
  "metadata": {
    "professional_name": "Rafael Miguel de Oliveira",
    "professional_email": "rafaeladapta02@gmail.com",
    "plan_name": "Plano Básico"
  }
}
Error creating subscription: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
    at async DatabaseStorage.getProfessionalByEmail (/app/server/storage.ts:421:28)
    at async <anonymous> (/app/server/routes.ts:2309:26) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
3:55:13 AM [express] POST /api/payments/create-subscription 500 in 2031ms :: {"success":false,"error…
[static-server] Serving index.html for: /seja-profissional
3:56:50 AM [express] GET /api/install/status 200 in 16ms :: {"installed":true,"needsInstallation":fa…
3:56:50 AM [express] GET /api/subscription-plans 200 in 17ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb…
[static-server] Serving index.html for: /favicon.ico
Plan found: {
  id: '6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10',
  name: 'Plano Básico',
  monthlyPrice: '29.90',
  monthlyPriceType: 'string',
  pagarmeProductId: 'plan_94qYE4wtxt4jeZ25'
}
Price validation: {
  planName: 'Plano Básico',
  originalPrice: '29.90',
  priceInReais: 29.9,
  priceInCentavos: 2990,
  expectedForProfissional: 'R$ 59,90 = 5990 centavos'
}
Pagar.me subscription response: {
  "id": "sub_4xdgp7yh4hxqzJyM",
  "code": "SUB_75157284187_1757390233570",
  "start_at": "2025-09-09T00:00:00Z",
[db] Using traditional PostgreSQL database
[static-server] Serving static files from: /app/server/public
[static-server] Static server configured successfully
4:01:05 AM [express] serving on port 5000
[static-server] Serving index.html for: /seja-profissional
[static-server] Serving index.html for: /favicon.ico
4:01:16 AM [express] GET /api/install/status 304 in 46ms :: {"installed":true,"needsInstallation":fa…
4:01:16 AM [express] GET /api/subscription-plans 304 in 17ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb…
Plan found: {
  id: '6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10',
  name: 'Plano Básico',
  monthlyPrice: '29.90',
  monthlyPriceType: 'string',
  pagarmeProductId: 'plan_94qYE4wtxt4jeZ25'
}
Price validation: {
  planName: 'Plano Básico',
  originalPrice: '29.90',
  priceInReais: 29.9,
  priceInCentavos: 2990,
  expectedForProfissional: 'R$ 59,90 = 5990 centavos'
}
Pagar.me subscription response: {
  "id": "sub_8WMZ7NQUEF5WDPOE",
  "code": "SUB_75157284187_1757390488732",
  "start_at": "2025-09-09T00:00:00Z",
  "interval": "month",
  "interval_count": 1,
  "billing_type": "prepaid",
  "current_cycle": {
    "id": "cycle_eXL9GnLHdETb7zlY",
    "start_at": "2025-09-09T00:00:00Z",
    "end_at": "2025-10-08T23:59:59Z",
    "billing_at": "2025-09-09T00:00:00Z",
    "status": "billed",
    "cycle": 1
  },
  "next_billing_at": "2025-10-09T00:00:00Z",
  "payment_method": "boleto",
  "currency": "BRL",
  "statement_descriptor": "MONTE EVEREST",
  "installments": 1,
  "status": "active",
  "created_at": "2025-09-09T04:01:29Z",
  "updated_at": "2025-09-09T04:01:29Z",
  "customer": {
    "id": "cus_q5naGekU7UzPX1ey",
    "name": "Rafael Miguel de Oliveira",
    "email": "rafael@ruch.com.br",
    "code": "75157284187",
    "document": "75157284187",
    "type": "individual",
    "delinquent": false,
    "address": {
      "id": "addr_jqVQ9JdHWHM2L7NK",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro",
      "street": "Rua Principal",
      "number": "123",
      "complement": "",
      "zip_code": "74000000",
      "neighborhood": "Centro",
      "city": "Goiânia",
      "state": "GO",
      "country": "BR",
      "status": "active",
      "created_at": "2025-09-04T14:25:42Z",
      "updated_at": "2025-09-04T14:25:42Z"
    },
    "created_at": "2025-09-04T14:25:42Z",
    "updated_at": "2025-09-04T14:25:42Z",
    "phones": {},
    "metadata": {
      "created_by": "monte_everest_system"
    }
  },
  "plan": {
    "id": "plan_94qYE4wtxt4jeZ25",
    "name": "Plano Básico",
    "description": "Plano básico para profissionais",
    "url": "plans/plan_94qYE4wtxt4jeZ25/everest-servicos-ltda-conta-ativa-test/plano-basico",
    "statement_descriptor": "MONTE EVEREST",
    "interval": "month",
    "interval_count": 1,
    "billing_type": "prepaid",
    "payment_methods": [
      "credit_card",
      "boleto"
    ],
    "installments": [
      1,
      2,
      3,
      6,
      12
    ],
    "status": "active",
    "currency": "BRL",
    "created_at": "2025-09-09T02:30:29Z",
    "updated_at": "2025-09-09T02:30:29Z",
    "metadata": {
      "plan_id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "created_by": "monte_everest_system"
    }
  },
  "items": [
    {
      "id": "si_Z6e0GvETkhKvMl4W",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T04:01:29Z",
      "updated_at": "2025-09-09T04:01:29Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    },
    {
      "id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T04:01:29Z",
      "updated_at": "2025-09-09T04:01:29Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    }
  ],
  "boleto": {},
  "metadata": {
    "professional_name": "Rafael Miguel de Oliveira",
    "professional_email": "rafael@ruch.com.br",
    "plan_name": "Plano Básico"
  }
}
Error creating subscription: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
    at async DatabaseStorage.getProfessionalByEmail (/app/server/storage.ts:421:28)
    at async <anonymous> (/app/server/routes.ts:2309:26) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
4:01:30 AM [express] POST /api/payments/create-subscription 500 in 2036ms :: {"success":false,"error…
[static-server] Serving index.html for: /favicon.ico
Error searching professionals: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
    at async DatabaseStorage.getProfessionals (/app/server/storage.ts:406:12)
    at async <anonymous> (/app/server/routes.ts:121:29) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
4:02:09 AM [express] GET /api/professionals/search 500 in 23ms :: {"message":"Erro interno do servid…
4:02:09 AM [express] GET /api/categories 304 in 23ms :: [{"id":"ae882751-68f1-41de-987b-05bb9262cb97…
4:02:09 AM [express] GET /api/categories/popular 304 in 28ms :: [{"id":"676b8100-d29b-4890-b1ea-e6f7…
[static-server] Serving index.html for: /favicon.ico
[static-server] Serving index.html for: /favicon.ico
[static-server] Serving index.html for: /favicon.ico
[static-server] Serving index.html for: /favicon.ico
Error searching professionals: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
    at async DatabaseStorage.getProfessionals (/app/server/storage.ts:406:12)
    at async <anonymous> (/app/server/routes.ts:121:29) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
4:02:39 AM [express] GET /api/professionals/search 500 in 15ms :: {"message":"Erro interno do servid…
[static-server] Serving index.html for: /favicon.ico
Error searching professionals: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
4:02:40 AM [express] GET /api/professionals/search 500 in 12ms :: {"message":"Erro interno do servid…
    at async DatabaseStorage.getProfessionals (/app/server/storage.ts:406:12)
    at async <anonymous> (/app/server/routes.ts:121:29) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
[static-server] Serving index.html for: /favicon.ico
Error searching professionals: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
    at async DatabaseStorage.getProfessionals (/app/server/storage.ts:406:12)
    at async <anonymous> (/app/server/routes.ts:121:29) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
4:02:41 AM [express] GET /api/professionals/search 500 in 13ms :: {"message":"Erro interno do servid…
[static-server] Serving index.html for: /entrar
4:03:01 AM [express] GET /api/install/status 304 in 13ms :: {"installed":true,"needsInstallation":fa…
[static-server] Serving index.html for: /favicon.ico
4:03:06 AM [express] POST /api/auth/admin/login 200 in 78ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI…
Error fetching professionals: error: column "pending_pix_code" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/app/node_modules/src/node-postgres/session.ts:104:19)
    at async DatabaseStorage.getAllProfessionalsForAdmin (/app/server/storage.ts:411:12)
    at async <anonymous> (/app/server/routes.ts:1086:9) {
  length: 117,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '342',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
4:03:07 AM [express] GET /api/admin/professionals 500 in 19ms :: {"message":"Erro interno do servido…
[static-server] Serving index.html for: /favicon.ico
4:03:07 AM [express] GET /api/admin/pages 304 in 53ms :: [{"id":"7c3e611b-acf5-4db8-b2d5-e8226510005…
4:03:07 AM [express] GET /api/admin/plans 304 in 51ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb5a3f9e1…
4:03:07 AM [express] GET /api/admin/payments 304 in 60ms :: [{"id":"2068e804-2474-4e91-94f9-6dd3a841…
4:03:07 AM [express] GET /api/admin/reviews 304 in 60ms :: [{"id":"54d83d2b-e501-4207-890d-695ada035…
4:03:07 AM [express] GET /api/admin/configs/PAGARME_API_KEY 304 in 49ms :: {"id":"3554ad96-72b0-4cfc…
4:03:07 AM [express] GET /api/admin/dashboard/stats 304 in 90ms :: {"activeProfessionals":2,"monthly…
4:03:07 AM [express] GET /api/admin/users 304 in 66ms :: [{"id":"85890426-9dd2-4b67-b8a0-50de8fb4fd0…
4:03:07 AM [express] GET /api/admin/configs/PAGARME_ENCRYPTION_KEY 304 in 58ms :: {"id":"b8c33f3f-e0…
4:03:07 AM [express] GET /api/admin/categories 304 in 63ms :: [{"id":"ae882751-68f1-41de-987b-05bb92…
[db] Using traditional PostgreSQL database
[static-server] Serving static files from: /app/server/public
[static-server] Static server configured successfully
12:33:13 PM [express] serving on port 5000
[static-server] Serving index.html for: /entrar
[static-server] Serving index.html for: /favicon.ico
12:33:33 PM [express] GET /api/install/status 304 in 64ms :: {"installed":true,"needsInstallation":fa…
12:33:38 PM [express] POST /api/auth/admin/login 200 in 75ms :: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI…
12:33:38 PM [express] GET /api/admin/professionals 200 in 13ms :: [{"id":"a721628c-152b-4840-8ae3-bf0…
12:33:38 PM [express] GET /api/admin/payments 304 in 19ms :: [{"id":"2068e804-2474-4e91-94f9-6dd3a841…
[static-server] Serving index.html for: /favicon.ico
12:33:38 PM [express] GET /api/admin/configs/PAGARME_ENCRYPTION_KEY 304 in 12ms :: {"id":"b8c33f3f-e0…
12:33:38 PM [express] GET /api/admin/reviews 200 in 12ms :: [{"id":"f2ee715b-5b43-4997-86df-1c356cb6b…
12:33:38 PM [express] GET /api/admin/dashboard/stats 304 in 83ms :: {"activeProfessionals":2,"monthly…
12:33:38 PM [express] GET /api/admin/categories 304 in 83ms :: [{"id":"ae882751-68f1-41de-987b-05bb92…
12:33:38 PM [express] GET /api/admin/pages 304 in 74ms :: [{"id":"7c3e611b-acf5-4db8-b2d5-e8226510005…
12:33:38 PM [express] GET /api/admin/plans 200 in 71ms :: [{"id":"d4dfbbc8-904d-4405-a550-229f8e05b5d…
12:33:38 PM [express] GET /api/admin/users 304 in 67ms :: [{"id":"85890426-9dd2-4b67-b8a0-50de8fb4fd0…
12:33:38 PM [express] GET /api/admin/configs/PAGARME_API_KEY 304 in 81ms :: {"id":"3554ad96-72b0-4cfc…
12:33:43 PM [express] DELETE /api/admin/plans/d4dfbbc8-904d-4405-a550-229f8e05b5db 200 in 8ms :: {"me…
12:33:43 PM [express] GET /api/admin/plans 200 in 6ms :: [{"id":"3fb6174e-6a85-4cdf-b58c-abc4efcb7d6e…
12:33:46 PM [express] DELETE /api/admin/plans/3fb6174e-6a85-4cdf-b58c-abc4efcb7d6e 200 in 8ms :: {"me…
12:33:46 PM [express] GET /api/admin/plans 200 in 4ms :: [{"id":"3590c5ab-f613-4e8b-8ef6-6cbc10e3c03e…
12:33:48 PM [express] DELETE /api/admin/plans/3590c5ab-f613-4e8b-8ef6-6cbc10e3c03e 200 in 8ms :: {"me…
12:33:48 PM [express] GET /api/admin/plans 200 in 6ms :: [{"id":"a16e2bc7-b0a9-4c20-aac8-2c67f4fb093f…
12:33:50 PM [express] DELETE /api/admin/plans/a16e2bc7-b0a9-4c20-aac8-2c67f4fb093f 200 in 6ms :: {"me…
12:33:50 PM [express] GET /api/admin/plans 200 in 3ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10…
[static-server] Serving index.html for: /favicon.ico
12:34:20 PM [express] GET /api/subscription-plans 200 in 13ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb…
[static-server] Serving index.html for: /favicon.ico
Plan found: {
  id: '6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10',
  name: 'Plano Básico',
  monthlyPrice: '29.90',
  monthlyPriceType: 'string',
  pagarmeProductId: 'plan_94qYE4wtxt4jeZ25'
}
Price validation: {
  planName: 'Plano Básico',
  originalPrice: '29.90',
  priceInReais: 29.9,
  priceInCentavos: 2990,
  expectedForProfissional: 'R$ 59,90 = 5990 centavos'
}
Pagar.me subscription response: {
  "id": "sub_9Z0B4kPfAf7maQjX",
  "code": "SUB_46641156010_1757421290612",
  "start_at": "2025-09-09T00:00:00Z",
  "interval": "month",
  "interval_count": 1,
  "billing_type": "prepaid",
  "current_cycle": {
    "id": "cycle_oJ4vaqYizigaweQP",
    "start_at": "2025-09-09T00:00:00Z",
    "end_at": "2025-10-08T23:59:59Z",
    "billing_at": "2025-09-09T00:00:00Z",
    "status": "billed",
    "cycle": 1
  },
  "next_billing_at": "2025-10-09T00:00:00Z",
  "payment_method": "boleto",
  "currency": "BRL",
  "statement_descriptor": "MONTE EVEREST",
  "installments": 1,
  "status": "active",
  "created_at": "2025-09-09T12:34:55Z",
  "updated_at": "2025-09-09T12:34:55Z",
  "customer": {
    "id": "cus_j2XkBnKuju18l4pO",
    "name": "Pessoa Teste",
    "email": "pessoa@teste.com",
    "code": "46641156010",
    "document": "46641156010",
    "type": "individual",
    "delinquent": false,
    "address": {
      "id": "addr_y16pLXvTOT5ME5bD",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro",
      "street": "Rua Principal",
      "number": "123",
      "complement": "",
      "zip_code": "74000000",
      "neighborhood": "Centro",
      "city": "Goiânia",
      "state": "GO",
      "country": "BR",
      "status": "active",
      "created_at": "2025-09-09T12:34:55Z",
      "updated_at": "2025-09-09T12:34:55Z"
    },
    "created_at": "2025-09-09T12:34:55Z",
    "updated_at": "2025-09-09T12:34:55Z",
    "phones": {},
    "metadata": {
      "created_by": "monte_everest_system"
    }
  },
  "plan": {
    "id": "plan_94qYE4wtxt4jeZ25",
    "name": "Plano Básico",
    "description": "Plano básico para profissionais",
    "url": "plans/plan_94qYE4wtxt4jeZ25/everest-servicos-ltda-conta-ativa-test/plano-basico",
    "statement_descriptor": "MONTE EVEREST",
    "interval": "month",
    "interval_count": 1,
    "billing_type": "prepaid",
    "payment_methods": [
      "credit_card",
      "boleto"
    ],
    "installments": [
      1,
      2,
      3,
      6,
      12
    ],
    "status": "active",
    "currency": "BRL",
    "created_at": "2025-09-09T02:30:29Z",
    "updated_at": "2025-09-09T02:30:29Z",
    "metadata": {
      "plan_id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "created_by": "monte_everest_system"
    }
  },
  "items": [
    {
      "id": "si_Dawp9zvsYs89rJjX",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T12:34:55Z",
      "updated_at": "2025-09-09T12:34:55Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    },
    {
      "id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T12:34:55Z",
      "updated_at": "2025-09-09T12:34:55Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    }
  ],
  "boleto": {},
  "metadata": {
    "professional_name": "Pessoa Teste",
    "professional_email": "pessoa@teste.com",
    "plan_name": "Plano Básico"
  }
}
Creating new professional with email pessoa@teste.com...
Creating boleto with PIX QR Code (30-day expiration)...
Creating boleto charge with data: {
  "amount": 2990,
  "payment": {
    "payment_method": "boleto",
    "boleto": {
      "due_at": "2025-10-09T12:34:56.628Z",
      "type": "DM",
      "instructions": "Pague via PIX escaneando o QR Code ou usando o código PIX. Válido por 30 dias."
    }
  },
  "customer": {
    "name": "Pessoa Teste",
    "email": "pessoa@teste.com",
    "document": "46641156010",
    "type": "individual",
    "address": {
      "country": "BR",
      "state": "GO",
      "city": "Goiânia",
      "zip_code": "74000000",
      "street": "Rua Principal",
      "number": "123",
      "neighborhood": "Centro",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro"
    },
    "phones": {
      "mobile_phone": {
        "country_code": "55",
        "area_code": "62",
        "number": "996918770"
      }
    }
  },
  "metadata": {
    "subscription_id": "sub_9Z0B4kPfAf7maQjX",
    "professional_id": "7087d471-42ba-4982-a809-518abb32c799",
    "plan_name": "Plano Básico"
  }
}
Boleto charge created: {
  "id": "ch_xmX7nzxfafAB2NLA",
  "code": "R86PIQIL1G",
  "gateway_id": "2211253297",
  "amount": 2990,
  "status": "pending",
  "currency": "BRL",
  "payment_method": "boleto",
  "created_at": "2025-09-09T12:34:57Z",
  "updated_at": "2025-09-09T12:34:57Z",
  "customer": {
    "id": "cus_j2XkBnKuju18l4pO",
    "name": "Pessoa Teste",
    "email": "pessoa@teste.com",
    "code": "46641156010",
    "document": "46641156010",
    "type": "individual",
    "delinquent": false,
    "address": {
      "id": "addr_y16pLXvTOT5ME5bD",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro",
      "street": "Rua Principal",
      "number": "123",
      "complement": "",
      "zip_code": "74000000",
      "neighborhood": "Centro",
      "city": "Goiânia",
      "state": "GO",
      "country": "BR",
      "status": "active",
      "created_at": "2025-09-09T12:34:55Z",
      "updated_at": "2025-09-09T12:34:57Z"
    },
    "created_at": "2025-09-09T12:34:55Z",
    "updated_at": "2025-09-09T12:34:56Z",
    "phones": {
      "mobile_phone": {
        "country_code": "55",
        "number": "996918770",
        "area_code": "62"
      }
    },
    "metadata": {
      "created_by": "monte_everest_system"
    }
  },
  "last_transaction": {
    "id": "tran_GkZx62XFwFn5VKX2",
    "transaction_type": "boleto",
    "gateway_id": "2211253297",
    "amount": 2990,
    "status": "generated",
    "success": true,
    "url": "https://api.pagar.me/1/boletos/test_cmfcj9jlr02hn0lm5lw3ioyvs",
    "pdf": "https://api.pagar.me/1/boletos/test_cmfcj9jlr02hn0lm5lw3ioyvs?format=pdf",
    "line": "19790000056359947892079190338644112290000002990",
    "barcode": "https://api.pagar.me/core/v5/transactions/tran_GkZx62XFwFn5VKX2/barcode",
    "qr_code": "https://api.pagar.me/core/v5/transactions/tran_GkZx62XFwFn5VKX2/qrcode",
    "nosso_numero": "2211253297",
    "type": "DM",
    "bank": "198",
    "document_number": "2211253297",
    "instructions": "Pague via PIX escaneando o QR Code ou usando o código PIX. Válido por 30 dias.",
    "due_at": "2025-10-09T23:59:59Z",
    "created_at": "2025-09-09T12:34:57Z",
    "updated_at": "2025-09-09T12:34:57Z",
    "gateway_response": {
      "code": "200"
    },
    "antifraud_response": {}
  },
  "metadata": {
    "subscription_id": "sub_9Z0B4kPfAf7maQjX",
    "professional_id": "7087d471-42ba-4982-a809-518abb32c799",
    "plan_name": "Plano Básico"
  }
}
Transaction from boleto charge: {
  "id": "tran_GkZx62XFwFn5VKX2",
  "transaction_type": "boleto",
  "gateway_id": "2211253297",
  "amount": 2990,
  "status": "generated",
  "success": true,
  "url": "https://api.pagar.me/1/boletos/test_cmfcj9jlr02hn0lm5lw3ioyvs",
  "pdf": "https://api.pagar.me/1/boletos/test_cmfcj9jlr02hn0lm5lw3ioyvs?format=pdf",
  "line": "19790000056359947892079190338644112290000002990",
  "barcode": "https://api.pagar.me/core/v5/transactions/tran_GkZx62XFwFn5VKX2/barcode",
  "qr_code": "https://api.pagar.me/core/v5/transactions/tran_GkZx62XFwFn5VKX2/qrcode",
  "nosso_numero": "2211253297",
  "type": "DM",
  "bank": "198",
  "document_number": "2211253297",
  "instructions": "Pague via PIX escaneando o QR Code ou usando o código PIX. Válido por 30 dias.",
  "due_at": "2025-10-09T23:59:59Z",
  "created_at": "2025-09-09T12:34:57Z",
  "updated_at": "2025-09-09T12:34:57Z",
  "gateway_response": {
    "code": "200"
  },
  "antifraud_response": {}
}
PaymentInfo created: {
  hasQrCode: true,
  hasQrCodeUrl: true,
  hasPixCode: true,
  qrCodeUrl: 'https://api.pagar.me/core/v5/transactions/tran_GkZx62XFwFn5VKX2/qrcode'
}
12:35:00 PM [express] POST /api/payments/create-subscription 200 in 9709ms :: {"success":true,"messag…
[static-server] Serving index.html for: /seja-profissional
12:47:39 PM [express] GET /api/install/status 304 in 32ms :: {"installed":true,"needsInstallation":fa…
12:47:39 PM [express] GET /api/subscription-plans 304 in 14ms :: [{"id":"6e31f402-53a5-4b6d-a1a1-88eb…
[static-server] Serving index.html for: /favicon.ico
Plan found: {
  id: '6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10',
  name: 'Plano Básico',
  monthlyPrice: '29.90',
  monthlyPriceType: 'string',
  pagarmeProductId: 'plan_94qYE4wtxt4jeZ25'
}
Price validation: {
  planName: 'Plano Básico',
  originalPrice: '29.90',
  priceInReais: 29.9,
  priceInCentavos: 2990,
  expectedForProfissional: 'R$ 59,90 = 5990 centavos'
}
Pagar.me subscription response: {
  "id": "sub_vYlGnWxI7iDWKe6w",
  "code": "SUB_63304919090_1757422114167",
  "start_at": "2025-09-09T00:00:00Z",
  "interval": "month",
  "interval_count": 1,
  "billing_type": "prepaid",
  "current_cycle": {
    "id": "cycle_dAMZDBrszt7Dmekz",
    "start_at": "2025-09-09T00:00:00Z",
    "end_at": "2025-10-08T23:59:59Z",
    "billing_at": "2025-09-09T00:00:00Z",
    "status": "billed",
    "cycle": 1
  },
  "next_billing_at": "2025-10-09T00:00:00Z",
  "payment_method": "credit_card",
  "currency": "BRL",
  "statement_descriptor": "MONTE EVEREST",
  "installments": 1,
  "status": "failed",
  "created_at": "2025-09-09T12:48:35Z",
  "updated_at": "2025-09-09T12:48:35Z",
  "customer": {
    "id": "cus_RA0BLDqTNCDn6V4M",
    "name": "Pessoa Tres",
    "email": "trespessoa@teste.com",
    "code": "63304919090",
    "document": "63304919090",
    "type": "individual",
    "delinquent": false,
    "address": {
      "id": "addr_RDo0kvwczycl7LgW",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro",
      "street": "Rua Principal",
      "number": "123",
      "complement": "",
      "zip_code": "74000000",
      "neighborhood": "Centro",
      "city": "Goiânia",
      "state": "GO",
      "country": "BR",
      "status": "active",
      "created_at": "2025-09-09T12:48:34Z",
      "updated_at": "2025-09-09T12:48:34Z"
    },
    "created_at": "2025-09-09T12:48:34Z",
    "updated_at": "2025-09-09T12:48:34Z",
    "phones": {},
    "metadata": {
      "created_by": "monte_everest_system"
    }
  },
  "card": {
    "id": "card_3V2NklAt1IXV4YjZ",
    "first_six_digits": "523434",
    "last_four_digits": "7127",
    "brand": "Mastercard",
    "holder_name": "PESSOA TESTE",
    "exp_month": 9,
    "exp_year": 2027,
    "status": "active",
    "type": "credit",
    "created_at": "2025-09-09T12:48:34Z",
    "updated_at": "2025-09-09T12:48:34Z",
    "billing_address": {
      "street": "Rua Principal",
      "number": "123",
      "complement": "",
      "zip_code": "74000000",
      "neighborhood": "Centro",
      "city": "Goiânia",
      "state": "GO",
      "country": "BR",
      "line_1": "Rua Principal, 123",
      "line_2": "Centro"
    }
  },
  "plan": {
    "id": "plan_94qYE4wtxt4jeZ25",
    "name": "Plano Básico",
    "description": "Plano básico para profissionais",
    "url": "plans/plan_94qYE4wtxt4jeZ25/everest-servicos-ltda-conta-ativa-test/plano-basico",
    "statement_descriptor": "MONTE EVEREST",
    "interval": "month",
    "interval_count": 1,
    "billing_type": "prepaid",
    "payment_methods": [
      "credit_card",
      "boleto"
    ],
    "installments": [
      1,
      2,
      3,
      6,
      12
    ],
    "status": "active",
    "currency": "BRL",
    "created_at": "2025-09-09T02:30:29Z",
    "updated_at": "2025-09-09T02:30:29Z",
    "metadata": {
      "plan_id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "created_by": "monte_everest_system"
    }
  },
  "items": [
    {
      "id": "si_3rKoyOBFLsK8a2Rj",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T12:48:35Z",
      "updated_at": "2025-09-09T12:48:35Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    },
    {
      "id": "6e31f402-53a5-4b6d-a1a1-88eb5a3f9e10",
      "name": "Plano Básico",
      "description": "Plano básico para profissionais",
      "quantity": 1,
      "status": "active",
      "created_at": "2025-09-09T12:48:35Z",
      "updated_at": "2025-09-09T12:48:35Z",
      "pricing_scheme": {
        "price": 2990,
        "scheme_type": "unit"
      }
    }
  ],
  "boleto": {},
  "metadata": {
    "professional_name": "Pessoa Tres",
    "professional_email": "trespessoa@teste.com",
    "plan_name": "Plano Básico"
  }
}
Creating new professional with email trespessoa@teste.com...
12:48:35 PM [express] POST /api/payments/create-subscription 200 in 1690ms :: {"success":true,"messag…
[static-server] Serving index.html for: /professional-login?autoLogin=true
12:48:40 PM [express] GET /api/install/status 304 in 12ms :: {"installed":true,"needsInstallation":fa…
[static-server] Serving index.html for: /favicon.ico
12:48:41 PM [express] POST /api/professionals/login 200 in 56ms :: {"professional":{"id":"336caa34-5d…
12:48:41 PM [express] GET /api/categories 304 in 2ms :: [{"id":"ae882751-68f1-41de-987b-05bb9262cb97"…
[static-server] Serving index.html for: /favicon.ico
[static-server] Serving index.html for: /professional-dashboard
12:48:50 PM [express] GET /api/install/status 304 in 12ms :: {"installed":true,"needsInstallation":fa…
[static-server] Serving index.html for: /favicon.ico
12:48:50 PM [express] GET /api/categories 304 in 3ms :: [{"id":"ae882751-68f1-41de-987b-05bb9262cb97"…
